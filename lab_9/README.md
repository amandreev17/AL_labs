Лабораторная работа №9
«Многопоточность, TPL, асинхронное программирование»

Цели работы:
Научиться работать со средствами многопоточности языка C#.
Научиться работать с паттерном асинхронного программирования платформы .Net языка C#.


Задание№1
Создайте многопоточное приложение для получения средних цен акций за год.
Используйте сайт https://www.marketdata.app/ для получения дневных котировок списка акций из файла ticker.txt. Формат ссылки следующий:
https://api.marketdata.app/v1/stocks/candles/D/<Код_бумаги>/?from=<Начальная_дата >&to=<Конечная_дата>
,где:
Код_бумаги – тикер из списка акций
Начальная_дата – метка времени начала запрашиваемого периода (год назад).
Конечная_дата – метка времени конца запрашиваемого периода (текущая дата).

Например, формат ссылки для AAPL:
https://api.marketdata.app/v1/stocks/candles/D/AAPL/?from=2020-01-01&to=2020-01-03

Документация к API:
https://www.marketdata.app/docs/api/stocks/candles


Для запросов данных по всем тикерам из файла необходимо зарегистрироваться и сгенерировать токен для бесплатного доступа, который будет передаваться с каждым запросом.

По мере получения данных выполните запуск задачи(Task), которая будет считать среднюю цену акции за год (используйте среднее значение для каждого дня как (High+Low)/2. Сложите все полученные значения и поделите на число дней).

Результатом работы задачи будет являться среднее значение цены за год, которое необходимо вывести в файл в формате «Тикер:Цена». При этом обеспечьте потокобезопасный доступ к файлу между всеми задачами.

Задание№2
На основе Лабораторной работы №6 создайте графическое приложение, получающее текущую погоду в разных городах мира.
Используйте WinForms или WPF.
Загрузите список городов с координатами из файла city.txt.
Добавьте в интерфейс приложения 2 элемента – один для отображения списка городов, второй элемент – кнопку, по нажатию на которую происходит загрузка текущей погоды в выбранном по API из Лабораторной работы №6.
Используйте ключевые слова async/await для загрузки данных и обновления интерфейса приложения таким образом, чтобы графический интерфейс не блокировался на время загрузки.
Если разработка ведется на *NIX или MACOS, допускается использовать консольное приложение, тем не менее следует использовать ключевые слова async/await при реализации методов.
